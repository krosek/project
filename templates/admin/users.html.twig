{% extends 'admin/adminbase.html.twig' %}
{% block body%}
    {% for message in app.flashes('notification') %}
        <div class="alert alert-success">
            {{ message }}
        </div>
    {% endfor %}

    <h2>List of all users</h2>
    <table class="table table-striped">
        <thead>
            <tr>
                <td>ID</td>
                <td>E-mail</td>
                <td>Role</td>
                <td>Is verified</td>
                <td>Status</td>
                <td>Actions</td>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
                <tr>
                    <td>{{ user.id }}</td>
                    <td>{{ user.email }}</td>
                    <td>{{ user.roles|join(" and ") }}</td>
                    <td>{{ user.isVerified }}</td>
                    <td>{{ user.status }}</td>
                    <td>
                        <a href="{{ path('user_delete',{id: user.id}) }}">
                            DELETE
                        </a>
                        {% if user.status is same as('active') %}
                        <a href="{{ path('user_blocking',{id: user.id}) }}">
                            BLOCK
                        </a>
                        {% else %}
                        <a href="{{ path('user_unblocking',{id: user.id}) }}">
                            UNBLOCK
                        </a>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}